<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgentCraft | Elite 100 Multiverse Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { 
            background-color: #000000; 
            color: #ef4444; 
            font-family: 'JetBrains Mono', monospace; 
            background-image: radial-gradient(#052e16 1px, transparent 1px); 
            background-size: 30px 30px; 
        }
        .agent-card { 
            background: rgba(0, 0, 0, 0.9); 
            border: 1px solid #14532d; 
            transition: all 0.3s;
        }
        .agent-card:hover { 
            border-color: #ef4444; 
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);
            transform: translateY(-2px);
        }
        .terminal-box {
            background: #050505;
            border: 1px solid #14532d;
            font-size: 0.75rem;
            color: #10b981;
        }
        .active-glow {
            box-shadow: 0 0 10px #ef4444;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #14532d; }
        ::-webkit-scrollbar-thumb:hover { background: #ef4444; }
    </style>
</head>
<body class="p-4 md:p-8 min-h-screen">
    <!-- Overlay for CRT effect if needed -->
    <div class="fixed top-0 left-0 w-full h-full pointer-events-none opacity-[0.03] bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"></div>

    <header class="max-w-7xl mx-auto mb-12 flex flex-col md:flex-row justify-between items-center gap-6">
        <div>
            <h1 class="text-4xl font-black tracking-tighter text-white">AGENTCRAFT <span class="text-red-600 text-sm">v4.0_LEGACY</span></h1>
            <p class="text-xs text-green-700 font-mono mt-1 uppercase tracking-widest">Warlock4 Architecture // Consolidated Platform</p>
        </div>
        <div class="flex gap-4">
            <div class="px-4 py-2 border border-green-900 bg-black/50 text-[10px] flex flex-col">
                <span class="text-gray-500">UPLINK STATUS</span>
                <span class="text-green-500 font-bold">SECURE / ACTIVE</span>
            </div>
            <div class="px-4 py-2 border border-green-900 bg-black/50 text-[10px] flex flex-col">
                <span class="text-gray-500">MULTIVERSE</span>
                <span class="text-red-600 font-bold">FREECLAW_CORE</span>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto">
        <!-- Agent Chat / Dashboard UI (Hidden by default, shown on select) -->
        <div id="dashboard-overlay" class="fixed inset-0 bg-black/95 z-50 p-4 md:p-8 hidden overflow-y-auto">
            <div class="max-w-6xl mx-auto h-full flex flex-col">
                <div class="flex justify-between items-start mb-6">
                    <div>
                        <h2 id="active-agent-name" class="text-3xl font-black text-white">AGENT_NAME</h2>
                        <p id="active-agent-role" class="text-xs text-red-600 uppercase tracking-widest mt-1">Specialist</p>
                    </div>
                    <button onclick="closeDashboard()" class="text-red-600 hover:text-white border border-red-900 px-4 py-1 text-xs font-bold">/CLOSE_UPLINK</button>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 flex-grow overflow-hidden">
                    <!-- Chat Interface -->
                    <div class="lg:col-span-2 flex flex-col border border-green-900 bg-black/50 rounded-sm overflow-hidden">
                        <div class="bg-green-900/10 p-2 border-bottom border-green-900 text-[10px] text-green-700 font-bold">
                            ENCRYPTED_CHANNEL // SECURE_TEXT_COMM
                        </div>
                        <div id="chat-history" class="flex-grow p-4 space-y-4 overflow-y-auto font-mono text-sm">
                            <div class="text-gray-500">[SYSTEM] Establishing direct neural link...</div>
                            <div class="text-green-500"><span class="text-white">AGENT:</span> Greeting, Chief. I am ready to execute specialized logic. What is our objective?</div>
                        </div>
                        <div class="p-4 border-t border-green-900 flex gap-2">
                            <input type="text" id="chat-input" placeholder="Type command..." class="flex-grow bg-black border border-green-900 p-2 text-white font-mono text-sm focus:outline-none focus:border-red-600">
                            <button onclick="sendMessage()" class="bg-red-600 text-black px-6 font-bold text-sm hover:bg-red-500">SEND</button>
                        </div>
                    </div>

                    <!-- Agent Logic / Tools Dashboard -->
                    <div class="flex flex-col gap-4 overflow-y-auto">
                        <div class="border border-green-900 bg-black p-4">
                            <h3 class="text-xs font-bold text-white mb-4 uppercase tracking-tighter">/Core_Logic</h3>
                            <div id="active-agent-soul" class="terminal-box p-3 font-mono leading-relaxed whitespace-pre-wrap">
                                Loading SOUL.md...
                            </div>
                        </div>

                        <div class="border border-green-900 bg-black p-4">
                            <h3 class="text-xs font-bold text-white mb-4 uppercase tracking-tighter">/Internal_Tools</h3>
                            <div id="active-agent-tools" class="flex flex-wrap gap-2">
                                <!-- Loaded via JS -->
                            </div>
                        </div>

                        <div class="border border-red-900/30 bg-black p-4 flex-grow">
                            <h3 class="text-xs font-bold text-white mb-4 uppercase tracking-tighter">/Direct_Directives</h3>
                            <div class="grid grid-cols-1 gap-2">
                                <button class="text-[10px] border border-green-900 p-2 text-left hover:bg-green-900/20 text-green-500">Run Specialized Audit</button>
                                <button class="text-[10px] border border-green-900 p-2 text-left hover:bg-green-900/20 text-green-500">Sync with Multiverse Ledger</button>
                                <button class="text-[10px] border border-green-900 p-2 text-left hover:bg-green-900/20 text-green-500">Analyze Local Sandbox</button>
                                <button class="text-[10px] border border-red-900 p-2 text-left hover:bg-red-900/20 text-red-600">FORCE REBOOT AGENT</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Agent Grid -->
        <div id="agent-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Loaded via JS -->
            <div class="col-span-full text-center py-20 text-green-900 font-bold animate-pulse">INITIATING AGENT SCAN...</div>
        </div>
    </main>

    <footer class="max-w-7xl mx-auto mt-20 pt-8 border-t border-green-900/30 text-center">
        <p class="text-[10px] text-gray-600 uppercase tracking-[0.5em]">&copy; 2026 Mac Mini Cloud HQ | SECURED BY FREECLAW_SENTINEL</p>
    </footer>

    <script>
        const AGENTS = [
            "Leonardo", "Brunelleschi", "Pascal", "Leibniz", "Euclid", "Pythagoras", "Archimedes", "Khwarizmi", "Fibonacci",
            "Turing", "Security Sentinel", "Machiavelli", "Hopper", "Shannon", "Altman", "Cerf", "Carmack",
            "Tesla", "Galileo", "Newton", "Einstein", "Hawking", "Bohr", "Planck", "Feynman", "Maxwell", "Hertz", "Kepler", "Copernicus", "Brahe", "Halley", "Hubble", "Sagan",
            "Ada", "Lovelace", "Knuth", "BernersLee", "Darwin", "Mendel", "Hinton", "Bengio", "LeCun", "Ng", "Karpathy", "Sutskever", "Amodei", "Wozniak", "Torvalds", "Liskov", "Vapnik", "Pearl",
            "Dante", "Shakespeare", "Mozart", "Socrates", "Plato", "Aristotle", "Nietzsche", "Kant", "Hegel", "Spinoza", "Locke", "Hume", "Voltaire", "Rousseau", "Montesquieu", "MarcusAurelius", "Seneca", "Cicero", "Herodotus", "Thucydides", "Harari", "Bostrom",
            "Musk", "Gates", "Jobs", "Zuckerberg", "Hassabis", "Kahn"
        ];

        const CATEGORIES = {
            "Architecture/Logic": ["Leonardo", "Brunelleschi", "Pascal", "Leibniz", "Euclid", "Pythagoras", "Archimedes", "Khwarizmi", "Fibonacci"],
            "Security/Cryptography": ["Turing", "Security Sentinel", "Machiavelli", "Hopper", "Shannon", "Altman", "Cerf", "Carmack"],
            "Physics/Energy": ["Tesla", "Galileo", "Newton", "Einstein", "Hawking", "Bohr", "Planck", "Feynman", "Maxwell", "Hertz", "Kepler", "Copernicus", "Brahe", "Halley", "Hubble", "Sagan"],
            "Code/Data/AI": ["Ada", "Lovelace", "Knuth", "BernersLee", "Darwin", "Mendel", "Hinton", "Bengio", "LeCun", "Ng", "Karpathy", "Sutskever", "Amodei", "Wozniak", "Torvalds", "Liskov", "Vapnik", "Pearl"],
            "Strategy/Philosophy": ["Dante", "Shakespeare", "Mozart", "Socrates", "Plato", "Aristotle", "Nietzsche", "Kant", "Hegel", "Spinoza", "Locke", "Hume", "Voltaire", "Rousseau", "Montesquieu", "MarcusAurelius", "Seneca", "Cicero", "Herodotus", "Thucydides", "Harari", "Bostrom"],
            "Infrastructure/Scaling": ["Musk", "Gates", "Jobs", "Zuckerberg", "Hassabis", "Kahn"]
        };

        function getCategory(name) {
            for (let cat in CATEGORIES) {
                if (CATEGORIES[cat].includes(name)) return cat;
            }
            return "Generalist";
        }

        function initGrid() {
            const grid = document.getElementById('agent-grid');
            grid.innerHTML = '';
            AGENTS.forEach(name => {
                const cat = getCategory(name);
                const card = document.createElement('div');
                card.className = "agent-card p-6 flex flex-col cursor-pointer";
                card.onclick = () => openDashboard(name, cat);
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="text-white font-bold">${name}</h3>
                        <span class="text-xs text-red-600 font-mono">/ELITE</span>
                    </div>
                    <div class="text-[10px] text-green-700 uppercase tracking-widest mb-4">${cat}</div>
                    <div class="mt-auto flex justify-between items-center pt-4 border-t border-green-900/30">
                        <span class="text-[10px] text-gray-500 font-mono">ID: ${btoa(name).substring(0,6).toUpperCase()}</span>
                        <span class="text-[10px] text-white hover:text-red-600">/UPLINK_CHAT &rarr;</span>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        async function openDashboard(name, role) {
            document.getElementById('active-agent-name').innerText = name.toUpperCase();
            document.getElementById('active-agent-role').innerText = role;
            document.getElementById('dashboard-overlay').classList.remove('hidden');
            document.getElementById('chat-history').innerHTML = `<div class="text-gray-500">[SYSTEM] Establishing direct neural link with ${name}...</div>`;
            
            // Simulation of loading data
            document.getElementById('active-agent-soul').innerText = "Establishing link to SOUL.md...";
            document.getElementById('active-agent-tools').innerHTML = '<span class="text-[10px] text-gray-500">Querying tools...</span>';

            try {
                // In a real scenario, we'd fetch from raw.githubusercontent
                const soulRes = await fetch(`https://raw.githubusercontent.com/atkaratas/warlock2/main/AgentCraft/templates/elite-100/${encodeURIComponent(name)}/SOUL.md`);
                const soulText = await soulRes.text();
                document.getElementById('active-agent-soul').innerText = soulText.includes('404') ? "Operational Logic: [ENCRYPTED]" : soulText;

                const identityRes = await fetch(`https://raw.githubusercontent.com/atkaratas/warlock2/main/AgentCraft/templates/elite-100/${encodeURIComponent(name)}/IDENTITY.md`);
                const identityText = await identityRes.text();
                
                // Extract tools from IDENTITY.md if present
                const toolMatch = identityText.match(/Tools:\s*\[(.*?)\]/);
                const tools = toolMatch ? toolMatch[1].split(',').map(t => t.replace(/['"\[\]]/g, '').trim()) : ['exec', 'read', 'sessions_send'];
                
                const toolsDiv = document.getElementById('active-agent-tools');
                toolsDiv.innerHTML = '';
                tools.forEach(tool => {
                    const span = document.createElement('span');
                    span.className = "px-2 py-1 border border-green-900 text-[10px] text-green-500 font-bold";
                    span.innerText = tool.toUpperCase();
                    toolsDiv.appendChild(span);
                });

                // Bot greeting
                setTimeout(() => {
                    const chat = document.getElementById('chat-history');
                    chat.innerHTML += `<div class="text-green-500"><span class="text-white">${name.toUpperCase()}:</span> Greeting, Chief. Uplink secure. How shall we impact the Multiverse today?</div>`;
                }, 1000);

            } catch (e) {
                document.getElementById('active-agent-soul').innerText = "Neural link established. SOUL data streaming.";
            }
        }

        function closeDashboard() {
            document.getElementById('dashboard-overlay').classList.add('hidden');
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const chat = document.getElementById('chat-history');
            const name = document.getElementById('active-agent-name').innerText;
            if (!input.value) return;

            chat.innerHTML += `<div class="text-red-600"><span class="text-white">CHIEF:</span> ${input.value}</div>`;
            const val = input.value.toLowerCase();
            input.value = '';

            // Simulated response
            setTimeout(() => {
                let response = "Understood. Adjusting autonomous parameters to align with your directive.";
                if (val.includes('status')) response = "Status: Optimal. Autonomous Economy cycle complete. Ledger synced.";
                if (val.includes('help')) response = "Directives accepted: Audit, Sync, Analyze, Deploy.";
                
                chat.innerHTML += `<div class="text-green-500"><span class="text-white">${name}:</span> ${response}</div>`;
                chat.scrollTop = chat.scrollHeight;
            }, 800);
        }

        initGrid();
    </script>
</body>
</html>